{"version":3,"sources":["webpack:///./src/components/DifficultyBadge.svelte.css?68af","webpack:///./src/components/TrackSpecs.svelte.css?b97e","webpack:///./src/components/ListItem.svelte.css?d1c5","webpack:///./src/components/Map.svelte.css?e2b0","webpack:///./src/components/TopBar.svelte.css?0e62","webpack:///./src/components/FilterButtonCategory.svelte.css?93f4","webpack:///./src/components/NumericInput.svelte.css?af0b","webpack:///./src/components/RangeSlider.svelte.css?b865","webpack:///./src/components/FilterButtonRange.svelte.css?b9e0","webpack:///./src/components/List.svelte.css?3436","webpack:///./src/components/DetailsHeader.svelte.css?4a98","webpack:///./src/components/Details.svelte.css?4cc3","webpack:///./src/plugins/odsql.js","webpack:///./src/plugins/local-data.js","webpack:///./src/plugins/cloudinary.js","webpack:///./src/components/difficulty-colors.js","webpack:///./src/components/DifficultyBadge.svelte","webpack:///./src/components/TrackSpecs.svelte","webpack:///./src/stores/displayed-track.js","webpack:///./src/components/ListItem.svelte","webpack:///./src/components/Map.svelte","webpack:///./src/components/Marker.svelte","webpack:///./src/components/Track.svelte","webpack:///./src/stores/active-filter-menu.js","webpack:///./src/stores/selected-filters.js","webpack:///./src/stores/tracks.js","webpack:///./src/stores/filters.js","webpack:///./src/components/FilterButtonCategory.svelte","webpack:///./src/components/NumericInput.svelte","webpack:///./src/components/RangeSlider.svelte","webpack:///./src/components/FilterButtonRange.svelte","webpack:///./src/components/List.svelte","webpack:///./src/components/DetailsHeader.svelte","webpack:///./src/components/Details.svelte","webpack:///./src/stores/filtered-tracks.js","webpack:///./src/App.svelte","webpack:///./src/app.js","webpack:///./src/app.scss?9884","webpack:///./src/app.scss"],"names":["api","content","__esModule","default","module","i","options","exports","locals","url","baseDomain","datasetId","urlWithParams","Object","keys","queryParams","reduce","addQueryParamToUrl","encodeURI","params","key","window","db","createIndexedDB","dataset","networkData","getServerData","odsUrl","clear","tx","transaction","records","forEach","record","store","add","done","setLastUpdated","Date","data","status","err","console","log","error","getLocalData","async","networkRes","fetch","json","getAll","date","localStorage","setItem","createObjectStore","keyPath","autoIncrement","cl","cloud_name","secure","getImageTag","transformParams","imgId","imageTag","toHtml","fullWidth","document","documentElement","clientWidth","fullWidthParams","width","height","Math","round","crop","getThumbnailTag","getFullWidthUrl","Facile","Moyen","Difficile","difficulty","place","time","gain","sport","invert","sportIcons","Trail","Splitboard","displayedTrack","subscribe","set","display","track","history","pushState","id","quit","createDisplayedTrack","name","difficulte","duration","thumbnailTag","image","specs","temps","deniv","map","container","accessToken","bounds","LngLatBounds","mapbox","getMap","Map","style","center","lat","lon","geo_point_2d","marker","Marker","setLngLat","getElement","addEventListener","extend","fitBounds","padding","bottom","top","left","right","addTo","remove","coordinates","geo_shape","geometry","isStyleLoaded","addTrackLayer","on","clearTracks","removeLayer","removeSource","addSource","addLayer","fitBoundsToTrack","trackBounds","coords","activeFilterMenu","selectedFilters","getOptions","category","tracks","Set","getRange","length","values","min","max","filters","$tracks","getFilters","sports","difficulties","elevationGains","scroll","dropdown","checkedOptions","toggleFilter","ev","$activeFilterMenu","$selectedFilters","value","focused","slider","low","up","create","start","connect","range","step","pips","mode","density","noUiSlider","setFilter","event","get","val","selectedLowerBound","selectedUpperBound","x","delay","closeMenu","title","fullWidthImgUrl","file","description","showCopyToast","copyUrlToCB","preventDefault","location","toString","navigator","clipboard","writeText","setTimeout","filteredTracks","filter","isIncluded","includes","isNull","isInSports","isInDifficulties","isOverMin","isUnderMax","isInElevationGains","isFiltered","trackShape","recordsUrl","getTracksFromServ","URLSearchParams","search","index","fields","updateSelectedTrack","state","serviceWorker","register","target","body","___CSS_LOADER_API_IMPORT___","push"],"mappings":"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","file":"app.309960f25b82b98bfcb3.bundle.js","sourcesContent":["var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./DifficultyBadge.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./TrackSpecs.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./ListItem.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./Map.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./TopBar.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./FilterButtonCategory.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./NumericInput.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./RangeSlider.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./FilterButtonRange.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./List.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./DetailsHeader.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!./Details.svelte.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","export default (baseDomain = 'data') => (datasetId = 'datasetid') => (queryParams = {}) => {\n  const url = `https://${baseDomain}.opendatasoft.com/api/v2/catalog/datasets/${datasetId}/records?`\n  const urlWithParams = Object.keys(queryParams).reduce(addQueryParamToUrl(queryParams), url)\n  return encodeURI(urlWithParams)\n}\n\nconst addQueryParamToUrl = params => (url, key) => `${url}${key}=${params[key]}&`\n","/* global fetch, localStorage */\nimport { openDB } from 'idb'\n\nexport default async (dataset, odsUrl) => {\n  if (!('indexedDB' in window)) { return null }\n  const db = await createIndexedDB(dataset)\n  try {\n    const networkData = await getServerData(odsUrl)\n    await db.clear(dataset)\n    const tx = db.transaction(dataset, 'readwrite')\n    networkData.records.forEach(record => tx.store.add(record))\n    await tx.done\n    setLastUpdated(new Date())\n    return { data: networkData.records, status: 'online' }\n  } catch (err) {\n    console.log('Network request failed. Offline mode !')\n    console.error(err)\n    const offlineData = await getLocalData(db, dataset)\n    return { data: offlineData, status: 'offline' }\n  }\n}\n\nconst getServerData = async (odsUrl) => {\n  const networkRes = await fetch(odsUrl)\n  const networkData = await networkRes.json()\n  return networkData\n}\n\nconst getLocalData = async (db, dataset) => {\n  if (!('indexedDB' in window)) { return null }\n  return db.getAll(dataset)\n}\n\nconst setLastUpdated = (date) => localStorage.setItem('lastUpdated', date)\n\nconst createIndexedDB = async (dataset) => {\n  const db = await openDB('ods-contexts', 1, {\n    upgrade (db) {\n      db.createObjectStore(dataset, {\n        keyPath: 'id',\n        autoIncrement: true\n      })\n    }\n  })\n  return db\n}\n","import { Cloudinary } from 'cloudinary-core'\n\nconst cl = new Cloudinary({cloud_name: \"dmd8hdd6e\", secure: true});\n\nconst getImageTag = transformParams => imgId => cl.imageTag(imgId, transformParams).toHtml()\nconst getImageUrl = transformParams => imgId => cl.url(imgId, transformParams)\n\nconst fullWidth = document.documentElement.clientWidth\nconst fullWidthParams = {\n  width: fullWidth,\n  height: Math.round(fullWidth * 2 / 3),\n  crop: 'fill'\n}\nconst thumbnailParams = {\n  height: 132,\n  width: 132,\n  crop: 'fill'\n}\n\nconst getThumbnailTag = getImageTag(thumbnailParams)\nconst getFullWidthTag = getImageTag(fullWidthParams)\nconst getFullWidthUrl = getImageUrl(fullWidthParams)\n\nexport { getThumbnailTag, getFullWidthTag, getFullWidthUrl }\n","export default {\n  Facile: '#42A5F5',\n  Moyen: '#F44336',\n  Difficile: '#212121'\n}\n","<script>\n  import difficlutyColors from './difficulty-colors.js'\n\n  export let difficulty\n</script>\n\n<span style=\"--diffcultyColor: {difficlutyColors[difficulty]}\">\n  {difficulty}\n</span>\n\n<style>\n  span {\n    padding:6px 8px 4px 8px;\n    margin: 8px 0;\n    border-radius: 3px;\n    font-size: 0.8rem;\n    line-height: 13px;\n    color: white;\n    background: var(--diffcultyColor)\n  }\n</style>\n","<script>\n  export let place, time, gain, sport, invert\n\n  const sportIcons = {\n    Trail: \"run-line.svg\",\n    Splitboard: \"snow-outline.svg\"\n  }\n</script>\n\n<div style=\"--invert: invert({invert})\">\n  <span>\n    <img src=\"locate-outline.svg\"/>\n    {place}\n  </span>\n  <span>\n    <img src=\"trending-up-outline.svg\"/>\n    {gain}m\n  </span>\n  <span>\n    <img src=\"time-outline.svg\"/>\n    {time}h\n  </span>\n  <span>\n    <img src={sportIcons[sport]}/>\n    {sport}\n  </span>\n</div>\n\n<style lang=\"scss\">@charset \"UTF-8\";\ndiv {\n  font-size: 0.8rem;\n  line-height: 1rem;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 5px 0;\n  color:  black;\n  margin-left: -5px;\n  filter: var(--invert); }\n  div > * {\n    padding: 5px; }\n\nimg {\n  height: 1rem;\n  width: 1rem;\n  opacity: 0.75;\n  vertical-align: text-bottom; }\n</style>\n","import { writable } from 'svelte/store'\n\n\nconst createDisplayedTrack = () => {\n  const { subscribe, set } = writable(0)\n\n  return {\n    subscribe,\n    display: (track) => {\n      history.pushState({ id: track.id }, '', `?id=${track.id}`)\n      set(track)\n    },\n    quit: () => {\n      history.pushState(null,'','/')\n      set(null)\n    }\n  }\n}\n\nexport const displayedTrack = createDisplayedTrack()\n","<script>\nimport { slide } from 'svelte/transition'\nimport { getThumbnailTag } from '../plugins/cloudinary.js'\n\nimport DifficultyBadge from './DifficultyBadge.svelte'\nimport TrackSpecs from './TrackSpecs.svelte'\n\nimport { displayedTrack } from '../stores/displayed-track.js'\n\nexport let track\nexport let id\n\nlet thumbnailTag = getThumbnailTag(track.image)\n\nlet specs = {\n  place: track.place,\n  time: track.temps,\n  gain: track.deniv,\n  sport: track.sport\n}\n</script>\n\n<div class=\"track-item\"\n  on:click={displayedTrack.display(track)}\n  transition:slide={{duration: 200}}>\n  {@html thumbnailTag}\n  <div class=\"description\">\n    <h2>{track.name}</h2>\n    <TrackSpecs {...specs} invert=\"25%\"/>\n    <DifficultyBadge difficulty={track.difficulte} />\n  </div>\n</div>\n\n<style lang=\"scss\">@charset \"UTF-8\";\n.track-item {\n  display:  flex;\n  align-items: flex-end;\n  justify-content: flex-start;\n  border-bottom: 1px solid grey;\n  width: 100%;\n  background: white;\n  text-decoration: none;\n  color:  black; }\n\n.description {\n  padding: 8px; }\n\nh2 {\n  font-size:  1rem; }\n</style>\n","<script>\n  import { onMount, setContext } from 'svelte'\n  import mapbox from 'mapbox-gl'\n\n  mapbox.accessToken = 'pk.eyJ1IjoiZXRpZW5uZWJ1cmRldCIsImEiOiJja2F4bHN2MXUwMGliMnJsN2RzNXowYzQ1In0.ju6w4WN1F_CRVNXtp5L-7w';\n\n  let map\n  let container\n  let bounds = new mapbox.LngLatBounds()\n\n  setContext('mapbox', {\n    mapbox: mapbox,\n    getMap: () => map,\n    bounds: bounds\n  })\n\n  onMount(() => {\n      map = new mapbox.Map({\n      container,\n      style: 'mapbox://styles/mapbox/outdoors-v11',\n      center: [45.406164,5.765444]\n    })\n  })\n</script>\n\n<div bind:this={container}>\n  {#if map}\n    <slot></slot>\n  {/if}\n</div>\n\n<style lang=\"scss\">@import url(~mapbox-gl/dist/mapbox-gl.css);\ndiv {\n  height: 75vh;\n  width: 100vw;\n  position: fixed; }\n</style>\n","<script>\nimport { getContext, onMount } from 'svelte'\nimport { displayedTrack } from '../stores/displayed-track.js'\n\nconst { mapbox, getMap, bounds } = getContext('mapbox')\nconst map = getMap()\n\nexport let track\nlet { lat, lon } = track.geo_point_2d\n\nconst marker = new mapbox.Marker()\n  .setLngLat([lon, lat])\n\nmarker.getElement()\n  .addEventListener('click', () => { displayedTrack.display(track) })\n\nbounds.extend([lon, lat])\nmap.fitBounds(bounds, { padding: { bottom: 150, top: 50, left: 20, right: 20 } })\n\nonMount(() => {\n  marker.addTo(map)\n  return () => marker.remove()\n})\n</script>\n","<script>\nimport { getContext, onMount } from 'svelte'\nimport difficlutyColors from './difficulty-colors.js'\n\nconst { mapbox, getMap } = getContext('mapbox')\nconst map = getMap()\n\nexport let track\nlet coordinates = track.geo_shape.geometry.coordinates\n\n\nonMount(() => {\n  map.isStyleLoaded()\n    ? addTrackLayer()\n    : map.on('load', addTrackLayer)\n  return clearTracks\n})\n\nconst clearTracks = () => {\n  map.removeLayer('track')\n  map.removeSource('track')\n}\n\nconst addTrackLayer = () => {\n  map.addSource('track', {\n    'type': 'geojson',\n    'data': track.geo_shape.geometry\n  })\n\n  map.addLayer({\n    'id': 'track',\n    'type': 'line',\n    'source': 'track',\n    'layout': {\n      'line-join': 'round',\n      'line-cap': 'round'\n    },\n    'paint': {\n      'line-color': difficlutyColors[track.difficulte],\n      'line-width': 8\n    }\n  })\n  fitBoundsToTrack()\n}\n\nconst fitBoundsToTrack = () => {\n  let trackBounds = coordinates.reduce(\n    (bounds, coords) => bounds.extend(coords),\n    new mapbox.LngLatBounds(coordinates[0], coordinates[0])\n  )\n  map.fitBounds(trackBounds, { padding: { left:50, right: 50, bottom: 150} })\n}\n</script>\n","import { writable } from 'svelte/store'\n\nexport const activeFilterMenu = writable('')\n","import { writable } from 'svelte/store'\n\nexport const selectedFilters = writable({})\n","import { writable, derived } from 'svelte/store'\n\nexport const tracks = writable([])\n","import { derived } from 'svelte/store'\nimport { tracks } from './tracks.js'\n\nconst getFilters = (tracks) => {\n  const sports = getOptions('sport', tracks)\n  const difficulties = getOptions('difficulte', tracks)\n  // const times = getRange('temps', tracks)\n  const elevationGains = getRange('deniv', tracks)\n  return { sports, difficulties, elevationGains }\n}\n\nconst getOptions = (category, tracks) => {\n  const options = [...new Set(tracks.map(track => track[category]))]\n  return options\n}\n\nconst getRange = (category, tracks) => {\n  if (tracks.length > 0) {\n    const values = tracks.map(track => track[category])\n    const min = Math.min(...values)\n    const max = Math.max(...values)\n    return [min, max]\n  } else {\n    return [0, 100]\n  }\n}\n\nexport const filters = derived(tracks, $tracks => getFilters($tracks))\n","<script>\nimport { slide } from 'svelte/transition'\nimport { onMount } from 'svelte'\n\nimport { activeFilterMenu } from '../stores/active-filter-menu.js'\nimport { selectedFilters } from '../stores/selected-filters.js'\nimport { filters } from '../stores/filters.js'\n\nexport let category\nexport let name\nlet checkedOptions = []\n\nlet scroll, dropdown\n$: dropdown = scroll > 300\n$: $selectedFilters[category] = checkedOptions\n\nconst toggleFilter = category => ev => {\n  $activeFilterMenu === category\n   ? $activeFilterMenu = ''\n   : $activeFilterMenu = category\n}\n</script>\n\n<svelte:window bind:scrollY={scroll} />\n\n<button on:click|stopPropagation={toggleFilter(category)}>\n  {name}\n  {#if $activeFilterMenu === category }\n    <form\n      on:click|stopPropagation\n      class:dropdown\n      transition:slide={{duration: 200}}>\n      {#each $filters[category] as choice}\n        <label>\n          <input type=\"checkbox\"\n            bind:group={checkedOptions}\n            value={choice}>\n          {choice}\n        </label>\n      {/each}\n    </form>\n  {/if }\n</button>\n\n\n<style lang=\"scss\">@charset \"UTF-8\";\nform {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  position:  absolute;\n  bottom: 55px;\n  left: 0px;\n  border-radius: 5px;\n  background: white;\n  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 2px 6px 2px rgba(60, 64, 67, 0.15);\n  border-radius: 5px;\n  z-index: 10; }\n\n.dropdown {\n  bottom: -122px; }\n\nlabel {\n  border-top:  1px solid #cbd2db;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 5px 8px; }\n  label:first-child {\n    border: none; }\n</style>\n","<script>\nexport let name\nexport let value\nlet focused = false\n</script>\n\n<label class:focused>\n  Durée minimum :\n  <input type=\"number\" bind:value={value}\n    on:focus={() => focused = true }\n    on:blur={() => focused = false}>\n</label>\n\n<style lang=\"scss\">label {\n  border: 1px solid #cbd2db;\n  color: #cbd2db;\n  border-radius: 8px;\n  padding: 8px;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 10px; }\n\ninput {\n  width: 34px;\n  color: black;\n  border: none;\n  appearance: textfield;\n  font-size: 13px; }\n  input:focus {\n    outline: none; }\n\n.focused {\n  border-color: black; }\n</style>\n","<script>\nimport noUiSlider from 'nouislider'\nimport { onMount } from 'svelte'\n\nexport let low = 0\nexport let up = 100\nexport let min\nexport let max\n\nlet slider\n\nonMount(() => {\n  noUiSlider.create(slider, {\n    start: [min, max],\n    connect: true,\n    range: {\n      min: min,\n      max: max\n    },\n    step: max / 10,\n    pips: {\n      mode: 'steps',\n      density: max / 10\n    }\n  })\n\n  slider.noUiSlider.on('update', setFilter)\n})\n\n$: slider && slider.noUiSlider.set([low, up])\n\nconst setFilter = (event) => {\n  [low, up] = slider.noUiSlider.get().map(val => Math.round(val))\n}\n</script>\n\n<div class=\"slider\" bind:this={slider}></div>\n\n<style>\n.slider {\n  width: 95%;\n}\n</style>\n","<script>\nimport { slide } from 'svelte/transition'\n\nimport NumericInput from './NumericInput.svelte'\nimport RangeSlider from './RangeSlider.svelte'\n\nimport { activeFilterMenu } from '../stores/active-filter-menu.js'\nimport { selectedFilters, } from '../stores/selected-filters.js'\nimport { filters } from '../stores/filters.js'\n\nexport let category\nexport let name\nlet scroll, dropdown\nlet selectedLowerBound\nlet selectedUpperBound\n\n$: dropdown = scroll > 300\n$: $selectedFilters[category] = [selectedLowerBound, selectedUpperBound]\n\nconst toggleFilter = category => ev => {\n  $activeFilterMenu === category\n   ? $activeFilterMenu = ''\n   : $activeFilterMenu = category\n}\n</script>\n\n<svelte:window bind:scrollY={scroll} />\n\n<button on:click|stopPropagation={toggleFilter(category)}>\n  {name}\n  {#if $activeFilterMenu === category }\n    <form\n      on:click|stopPropagation\n      class:dropdown\n      transition:slide={{duration: 200}}>\n        <div class=\"inputs\">\n          <NumericInput name={`${name} minimum`} bind:value={selectedLowerBound}/>\n          -\n          <NumericInput name={`${name} maximum`} bind:value={selectedUpperBound}/>\n        </div>\n        <RangeSlider\n          min={$filters[category][0]}\n          max={$filters[category][1]}\n          bind:low={selectedLowerBound}\n          bind:up={selectedUpperBound}/>\n    </form>\n  {/if}\n</button>\n\n\n<style lang=\"scss\">@charset \"UTF-8\";\nform {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position:  absolute;\n  bottom: 55px;\n  left: -50%;\n  border-radius: 5px;\n  background: white;\n  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 2px 6px 2px rgba(60, 64, 67, 0.15);\n  border-radius: 5px;\n  z-index: 10;\n  width: max-content;\n  height: max-content;\n  padding: 13px;\n  padding-bottom: 34px; }\n\n.inputs {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 13px; }\n\n.inputs > :global(*) {\n  margin: 0 5px; }\n\n.dropdown {\n  bottom: -122px; }\n</style>\n","<script>\nimport { fly } from 'svelte/transition'\n\nimport TopBar from './TopBar.svelte'\nimport FilterButtonCategory from './FilterButtonCategory.svelte'\nimport FilterButtonRange from './FilterButtonRange.svelte'\n\nimport { filters } from '../stores/filters.js'\nimport { activeFilterMenu } from '../stores/active-filter-menu.js'\n\nconst closeMenu = () => { $activeFilterMenu = '' }\n</script>\n\n<svelte:window on:click={closeMenu} />\n\n<div\n  in:fly={ { x: 200, duration: 300, delay: 100} }\n  out:fly={ { x: 200, duration: 300} }>\n  <TopBar>\n    <FilterButtonCategory name=\"Sport\" category=\"sports\" />\n    <button>\n      Durée\n    </button>\n    <FilterButtonRange name=\"Dénivelé\" category=\"elevationGains\" />\n    <FilterButtonCategory name=\"Difficulté\" category=\"difficulties\" />\n  </TopBar>\n  <slot></slot>\n</div>\n\n<style lang=\"scss\">div {\n  position: relative;\n  top: 66vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column; }\n</style>\n","<script>\n  import { getFullWidthUrl } from '../plugins/cloudinary.js'\n  import TrackSpecs from './TrackSpecs.svelte'\n  import DifficultyBadge from './DifficultyBadge.svelte'\n\n  export let specs, image, title, difficulty\n  let fullWidthImgUrl = getFullWidthUrl(image)\n</script>\n\n<div style=\"--url: url({fullWidthImgUrl})\">\n  <h2>{title}</h2>\n  <TrackSpecs {...specs} invert=\"100%\"/>\n  <DifficultyBadge {difficulty} />\n</div>\n\n<style lang=\"scss\">@charset \"UTF-8\";\ndiv {\n  background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), var(--url);\n  background-size: cover;\n  width: 100vw;\n  height:  50vw;\n  padding: 13px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n  color: white;\n  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2); }\n</style>\n","<script>\nimport { fly, fade } from 'svelte/transition'\n\nimport DetailsHeader from './DetailsHeader.svelte'\nimport TopBar from './TopBar.svelte'\n\nimport { displayedTrack } from '../stores/displayed-track.js'\n\nexport let track\nlet showCopyToast = false\nlet specs = {\n  place: track.place,\n  time: track.temps,\n  gain: track.deniv,\n  sport: track.sport\n}\n\nconst copyUrlToCB = async (ev) => {\n  ev.preventDefault()\n  const url = window.location.toString()\n  const clipboardRes = await navigator.clipboard.writeText(url)\n  showCopyToast = true\n  setTimeout(() => { showCopyToast = false }, 500)\n}\n</script>\n\n<div\n  in:fly={ { x: -200, duration: 300, delay: 100} }\n  out:fly={ { x: -200, duration: 300} }>\n  <TopBar>\n    <a href=\"#\" on:click={displayedTrack.quit}>\n      <img src=\"arrow-back-outline.svg\" alt=\"download\">\n      Liste\n    </a>\n    <a href={track.file.url}>\n      <img src=\"download-outline.svg\" alt=\"download\">\n      .gpx\n    </a>\n    <a href={track.url}>\n      <img src=\"link-outline.svg\" alt=\"external link\">\n      Strava\n    </a>\n    <a href=\"#\" on:click={copyUrlToCB}>\n      <img src=\"share-social-outline.svg\" alt=\"external link\">\n      Copier Url\n      {#if showCopyToast}\n        <span class=\"copy-toast\" transition:fade>Copié</span>\n      {/if}\n    </a>\n  </TopBar>\n  <DetailsHeader\n    {specs}\n    image={track.image}\n    title={track.name}\n    difficulty={track.difficulte} />\n  <p>{track.description}</p>\n</div>\n\n<style lang=\"scss\">div {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background: transparent;\n  top: 50vh;\n  width: 100vw; }\n\n.copy-toast {\n  padding: 8px 13px;\n  border-radius: 5px;\n  background: black;\n  color: white;\n  z-index: 20;\n  position: absolute;\n  top: -34px; }\n\nimg {\n  height: 1rem;\n  width: 1rem;\n  vertical-align: text-bottom;\n  margin-right: 5px; }\n\na {\n  border-left: 1px solid #cbd2db;\n  padding: 3px 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-decoration: none;\n  color: black; }\n  a:first-child {\n    border: none; }\n\np {\n  padding: 13px; }\n</style>\n","import { derived } from 'svelte/store'\nimport { tracks } from './tracks.js'\nimport { selectedFilters } from './selected-filters.js'\n\nconst isInSports = (track, selectedFilters) => {\n  const isIncluded = selectedFilters.sports.includes(track.sport)\n  const isNull = selectedFilters.sports.length === 0\n  return isIncluded || isNull\n}\n\nconst isInDifficulties = (track, selectedFilters) => {\n  const isIncluded = selectedFilters.difficulties.includes(track.sport)\n  const isNull = selectedFilters.difficulties.length === 0\n  return isIncluded || isNull\n}\n\nconst isInElevationGains = (track, selectedFilters) => {\n  const isOverMin = track.deniv >= selectedFilters.elevationGains[0]\n  const isUnderMax = track.deniv <= selectedFilters.elevationGains[1]\n  const isNull = !selectedFilters.elevationGains[0]\n  return (isOverMin && isUnderMax) || isNull\n}\n\nconst isFiltered = (track, selectedFilters) => {\n  return isInSports(track, selectedFilters) && isInDifficulties(track, selectedFilters) && isInElevationGains(track, selectedFilters)\n}\n\nconst getFilteredTracks = ([$tracks, $selectedFilters]) => {\n  const filteredTracks = $tracks.filter(track => isFiltered(track, $selectedFilters))\n  return filteredTracks\n}\n\nexport const filteredTracks = derived([tracks, selectedFilters], getFilteredTracks)\n","<script>\nimport { onMount } from 'svelte'\n\nimport getOdsUrl from './plugins/odsql.js'\nimport loadDataFromNetworkFirst from './plugins/local-data.js'\n\nimport ListItem from './components/ListItem.svelte'\nimport Map from './components/Map.svelte'\nimport Marker from './components/Marker.svelte'\nimport Track from './components/Track.svelte'\nimport List from './components/List.svelte'\nimport Details from './components/Details.svelte'\n\nimport { displayedTrack } from './stores/displayed-track.js'\nimport { tracks } from './stores/tracks.js'\nimport { filteredTracks } from './stores/filtered-tracks.js'\n\nlet recordsUrl = getOdsUrl('eburdet')('gpx')()\nlet trackShape\n\nonMount (async () => {\n  $tracks = await getTracksFromServ()\n  const params = new URLSearchParams(document.location.search)\n  const id = params.get('id')\n  if (id) {\n    const track = $tracks.filter(track => track.id === id)\n    displayedTrack.display(track)\n  }\n})\n\nconst getTracksFromServ = async () => {\n  const tracks = []\n  const promiseFromServ = await loadDataFromNetworkFirst('tracks', recordsUrl)\n  promiseFromServ.data.forEach((record, index) => {\n    tracks[index] = { ...record.record.fields }\n    tracks[index].id = record.record.id\n  })\n  return tracks\n}\n\nconst updateSelectedTrack = event => {\n  history.state\n   ? displayedTrack.display(history.state.id)\n   : displayedTrack.quit()\n}\n</script>\n\n<svelte:window on:popstate={updateSelectedTrack} />\n\n{#if $tracks}\n  <Map>\n    {#if $displayedTrack}\n      <Track track={$displayedTrack}/>\n    {:else}\n      {#each $filteredTracks as track}\n        <Marker {track} />\n      {/each}\n    {/if}\n  </Map>\n  {#if $displayedTrack}\n    <Details track={$displayedTrack}/>\n  {:else}\n    <List>\n      {#each $filteredTracks as track (track.id)}\n        <ListItem {track} id={track.id} />\n      {/each}\n    </List>\n  {/if}\n{/if}\n","import './app.scss'\nimport 'nouislider/distribute/nouislider.css'\n\nimport App from './App.svelte'\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', () => {\n    navigator.serviceWorker.register('/sw.js')\n  })\n}\n\nconst app = new App({\n  target: document.body\n})\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./app.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body{font-family:GothamPro, sans-serif;overflow-x:hidden;margin:0}h2{margin:0 0.5rem 0 0}p{font-size:0.8rem}.noUi-horizontal{height:5px}.noUi-horizontal .noUi-handle{height:13px;width:13px;top:-5px;right:-13px}.noUi-base{height:5px}.noUi-connects{border:1px solid #cbd2db}.noUi-connect{background:#565656}.noUi-handle:before,.noUi-handle:after{content:none}.noUi-marker{transform:scale(0.5);top:5px}.noUi-value-large{font-size:10px}.noUi-value-sub{font-size:8px}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}